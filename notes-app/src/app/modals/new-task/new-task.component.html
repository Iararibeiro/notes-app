<div class="header">
  <h1>New Task</h1>
  <span>Fill out the information below to get started.</span>
</div>
<div class="body">
  <ng-container *ngIf="!displaySuccess">
    <form [formGroup]="taskForm" class="form" (submit)="submit()">
      <mat-form-field class="form-full-width">
        <mat-label>Task Name</mat-label>
        <input matInput formControlName="title" placeholder="Task name" value="name">
      </mat-form-field>

      <mat-form-field class="form-full-width">
        <mat-label>Description</mat-label>
        <textarea matInput formControlName="description" placeholder="Task description"></textarea>
      </mat-form-field>

      <mat-form-field class="form-full-width">
        <mat-label>Start Date</mat-label>
        <input matInput formControlName="startTime" [matDatepicker]="startdate" autocomplete="off" placeholder="Start Date">
        <mat-datepicker-toggle matSuffix [for]="startdate"></mat-datepicker-toggle>
        <mat-datepicker #startdate color="primary"></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="form-full-width">
        <mat-label>End Date</mat-label>
        <input matInput formControlName="endTime" [matDatepicker]="enddate" autocomplete="off" placeholder="End Date">
        <mat-datepicker-toggle matSuffix [for]="enddate"></mat-datepicker-toggle>
        <mat-datepicker #enddate color="primary"></mat-datepicker>
      </mat-form-field>

      <mat-form-field class="form-full-width" *ngIf="projectList.length > 0">
        <mat-label>Project</mat-label>
        <mat-select formControlName="project">
          <mat-option *ngFor="let project of projectList" [value]="project.title">
            {{project.title}}
          </mat-option>
        </mat-select>
      </mat-form-field>

      <div class="actions">
        <button class="btn-cancel" type="button" name="button" (click)="cancel()">Cancel</button>
        <button class="btn-pink" type="submit" name="button">Done</button>
      </div>
    </form>
  </ng-container>
  <ng-container *ngIf="displaySuccess">
    <div class="sucess-message">
      <img src="./assets/tick.svg" alt="sucess icon">
      <p>Task {{ taskForm.value.title }} created.</p>
    </div>
    <div class="actions">
      <button class="btn-cancel" type="button" name="button" (click)="cancel()">Close</button>
    </div>
  </ng-container>
</div>
